
### Goals:
- End goals:
  - Create a ChatGPT Plugin
  - Create Clients
  - Zeroda bug to resolve
  
- your app can be used from multiple places,even used from APIs and execute as trades.
- most platform use this to make it more accessible for others.
- the problem is very hard to document to end points.
- As your backend application goes bigger and bigger eveyrything is a different shape and the input keeps on changing.
- even the requests can change 
- there needs to be a way to automatically generate documentation ,and to automatically generate something mobile apps, and backend apps that want to directly want to use api.
- need to generate some code that propogates in the ui and that change others can see and understand.
- things like grpahql, openapi spec and grpc solve.
- they create some files and have some specification that can be used and checked.
- high level why they are introduced. 
  - other nuances are also there.
  
- These specifications came into the picture so that frontends can talk to backend and backend to backend in a very streamlined fashion.

- clients -> something that get autogenerated which websites can use and we dont need to change it completly.

### OpenAPI Spec:
- lang agnostic standard to HTTP that allows humans and computers to discover and understand the capabilites of the services without access to source code , docs or network inspection.
- write in a JSON/YAML file and looking thorugh that we can understand and automatically generate what the clients are generating.
- Computers understand what the APIs does.
- OpenAPI spec file -> can understand with a minimum amount of fetch request and can automatically generate clients for different SDKs.
- this spec can also be used to genrate code, documentation generation. 
- Language independent.

### Express Based OpenAPI Spec:
- Need to create one in the base directory as :
  - openapi-spec.yaml or
  - openapi-spec.json
  
- YAML is the format that can also be used for Github Actions CI/CD.
- very similar to JSON: key-value pairs
- no direct library that can directly read our backend code and update it.
- best one to auto generate, but more verbose and bloated:
  - minimal overhead on the developer.
  - tsoa library for OpenAPI spec


### OpenAPI Example:
- OpenAPI spec keeps on changing.
- some description associated with it to understand.
- focus on paths :(zerodha one)
  - /health :
    - to tell monitoring service whether or not the service is up
  - /config:
  - /lang/{lang}:
  - and other requests as such.
- never a good idea to hand write the openapi-spec by hand , rather need to generate from our code and autogenerate it.
- less manual effort so less chance for error as we are updating it.


### Background Knowledge:

- Classes In TS.
- Decorators in TS.
  - collection of some helpful decorators in TS , that can be used multiple places:
    - https://github.com/NetanelBasal/helpful-decorators
  - under the hood , decorators are pure functions, but if we use them in a class as @\<decorator-name> , wherever the code it is being called, it will understand whatever it has to do and then finally output that to the screen.


### mvc structure:

model -> the shape of our data ; storing in db 
view -> ui 
controller -> the thing that joins both of them.

service -> similar to our route handlers, just a bunch of functions that are abstraction to a database calls, abstract over the database. put all of the logic to connect to the database.

controller -> create a controller where most of the magic happens with the decorator.

service file is where we write the logic to connect to db , write to db and etc.

need to clearly define input and the outputs as openapi file needs the clear instruction of what all todo.

all the controllers and go thorugh the folders and convert them into express routes.

they will all go thorugh src/todos and convert all files having Controller in their names as express routes.

server.ts -> can act as server with express and tsoa routes; updates and build/routes for us.

can provide a UI to our swagger docs using swagger UI.
-swagger-ui-express:
- given a openapi file, lets us build the file.